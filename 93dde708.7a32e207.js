(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{132:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},g=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=u(n),g=r,b=d["".concat(o,".").concat(g)]||d[g]||p[g]||i;return n?a.a.createElement(b,s(s({ref:t},l),{},{components:n})):a.a.createElement(b,s({ref:t},l))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},97:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(3),a=n(7),i=(n(0),n(132)),o={id:"tagging",title:"Tagging",slug:"/tagging"},s={unversionedId:"tagging",id:"tagging",isDocsHomePage:!1,title:"Tagging",description:"Overview",source:"@site/docs/Tagging.md",slug:"/tagging",permalink:"/docs/tagging",version:"current",sidebar:"tryNowSidebar",previous:{title:"Performance Considerations",permalink:"/docs/performance-considerations"},next:{title:"Configurations Glossary",permalink:"/docs/configurations-glossary"}},c=[{value:"Overview",id:"overview",children:[{value:"Support",id:"support",children:[]},{value:"Filtering Estimates Using Tags",id:"filtering-estimates-using-tags",children:[]}]},{value:"Including Tags With Estimations",id:"including-tags-with-estimations",children:[{value:"AWS Tags",id:"aws-tags",children:[]}]}],l={toc:c};function u(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"overview"},"Overview"),Object(i.b)("p",null,"Sometimes it may be necessary to organize your data in ways that will allow for better breakdown and visibility across specific organizations, teams, or shared resources.\nCloud providers allow for this custom separation of data through the use of tags. These serve as custom key/value pairs that can be assigned to resources in addition to any internally-assigned tags by the cloud provider, and both are available for visibility and use within CCF.\nThese tags allow for better comparison and insights of carbon emissions across different internal teams or products."),Object(i.b)("h3",{id:"support"},"Support"),Object(i.b)("p",null,"Each estimation result currently includes the associated tags listed for that resource included from the initial cloud provider query. Currently, the visibility of these tags are\nonly supported through results queried directly from the API/CLI, and is not yet supported on the client dashboard."),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},Object(i.b)("strong",{parentName:"em"},"Important Note"),": Tagging visibility and features are currently only supported for AWS, but we are hard at work with including them for other cloud providers.")),Object(i.b)("h3",{id:"filtering-estimates-using-tags"},"Filtering Estimates Using Tags"),Object(i.b)("p",null,"CCF also allows for resource tags to be specified as a parameter for filtering estimates. This feature is currently only available for cached estimates\nwhen using the ",Object(i.b)("a",{parentName:"p",href:"/docs/data-persistence-and-caching#mongodb-storage"},"MongoDB")," cache option. In addition, the desired tags need to have been specified and ",Object(i.b)("a",{parentName:"p",href:"#including-tags-with-estimations"},"included in the cached estimation results"),"\nprior to your request in order to be available as a filtering option. To learn more about how to filter data by tags, take a look at ",Object(i.b)("a",{parentName:"p",href:"/docs/data-persistence-and-caching#filtering-estimates"},"filtering estimates.")),Object(i.b)("h2",{id:"including-tags-with-estimations"},"Including Tags With Estimations"),Object(i.b)("p",null,"CCF provides the option to specify a desired list of assigned resource tags in your estimation results. In doing so, this will allow for\nthe columns for each specified tag to be included in the cloud provider query and its corresponding value to be included in the estimation results for each resource."),Object(i.b)("p",null,"To provide the list of tags that you wish to include, you must set the appropriate variable for that cloud provider within your API or CLI ",Object(i.b)("inlineCode",{parentName:"p"},".env")," file.\nThe list of tags must be provided as an array of strings containing the name of each tag's key that you wish to include."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:"),"\nSpecifying ",Object(i.b)("inlineCode",{parentName:"p"},'AWS_RESOURCE_TAG_NAMES=["user:Environment"],')," in your API or CLI ",Object(i.b)("inlineCode",{parentName:"p"},".env")," file will include the corresponding tag value for each AWS resource in the results:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n  "cloudProvider": "AWS",\n  "kilowattHours": 9.17,\n  "co2e": 2.064,\n  "usesAverageCPUConstant": true,\n  "serviceName": "AWSLambda",\n  "accountId": "1234567890",\n  "accountName": "example-account",\n  "region": "eu-west-2",\n  "cost": 0.0000238,\n  "tags": {\n    "user:Environment": "production"\n  }\n}\n')),Object(i.b)("h3",{id:"aws-tags"},"AWS Tags"),Object(i.b)("p",null,"The AWS Cost and Usage Reporting (CUR) translates tag names to names that are valid Athena column names.\nOn top of this, it also adds a prefix to distinguish between user-created tags and AWS-internal tags.\nWhile not documented, we have found the behaviour to be that a tag such as ",Object(i.b)("inlineCode",{parentName:"p"},"SourceRepository")," will be ",Object(i.b)("inlineCode",{parentName:"p"},"user:SourceRepository")," in CUR, and ",Object(i.b)("inlineCode",{parentName:"p"},"resource_tags_user_source_repository")," in Athena (AWS-internal tags will be prefixed with ",Object(i.b)("inlineCode",{parentName:"p"},"aws:")," instead of ",Object(i.b)("inlineCode",{parentName:"p"},"user:")," in CUR)."),Object(i.b)("p",null,"To include a list of resource tags for AWS, you must set the ",Object(i.b)("inlineCode",{parentName:"p"},"AWS_RESOURCE_TAG_NAMES"),"."),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-dotenv"},'AWS_RESOURCE_TAG_NAMES=["user:Environment", "aws:CreatedBy"]\n')))}u.isMDXComponent=!0}}]);